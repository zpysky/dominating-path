%% LyX 2.0.1 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass[10pt, conference, letterpaper]{IEEEtran}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
%\usepackage{babel}
\usepackage{color}
% *** ALGORITHM PACKAGES ***
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\renewcommand{\algorithmicrequire}{\textbf{Input:}} % Use Input in the format of Algorithm
\renewcommand{\algorithmicensure}{\textbf{Output:}} % Use Output in the format of Algorithm
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{float}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{epsfig}
\usepackage{balance}
\usepackage{multirow}
\usepackage{url}
\usepackage{color}
\usepackage[unicode=true,
 bookmarks=true,bookmarksnumbered=true,bookmarksopen=true,bookmarksopenlevel=1,
 breaklinks=false,pdfborder={0 0 0},backref=false,colorlinks=false]
 {hyperref}
\hypersetup{pdftitle={Your Title},
 pdfauthor={Your Name},
 pdfpagelayout=OneColumn,pdfnewwindow=true,pdfstartview=XYZ,plainpages=false}
\makeatletter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
%% Because html converters don't know tabularnewline
\providecommand{\tabularnewline}{\\}
%% A simple dot to overcome graphicx limitations
\newcommand{\lyxdot}{.}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Textclass specific LaTeX commands.
\theoremstyle{plain}
\newtheorem{thm}{\protect\theoremname}
\theoremstyle{definition}
\newtheorem{defn}[thm]{\protect\definitionname}
\theoremstyle{plain}
\newtheorem{lem}[thm]{\protect\lemmaname}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\@ifundefined{definecolor}{\usepackage{color}}{}
\@ifundefined{definecolor}{\usepackage{color}}{}
% for subfigures/subtables
\providecommand{\definitionname}{Definition}
\providecommand{\examplename}{Example}
\providecommand{\lemmaname}{Lemma}
\providecommand{\theoremname}{Theorem}
\providecommand{\theoremname}{Problem}
% *** GRAPHICS RELATED PACKAGES ***
\graphicspath{{pix/}}
\usepackage{caption}
% \usepackage{subcaption}
% \usepackage{floatrow}
% *** Page scaling Setup ***
%\renewcommand{\baselinestretch}{0.91}
\makeatother
% *** PAGE # ***
\pagenumbering{arabic}
\pagestyle{plain}
% *** Theorem ***
\newcounter{lemma}
\newcounter{definition}
\newcounter{problem}
\newcounter{theorem}
\newcounter{corollary}
\newcounter{proposition}
%
\newtheorem{prop}[proposition]{Proposition}
%
\newtheorem{prob}{Problem}
\DeclareMathOperator*{\argmax}{arg\,max}
\begin{document}
\title{\global\long\def\lcm{\textrm{lcm}}
 \global\long\def\gcd{\textrm{gcd}}
Optimal Trajectory Planning of Drones \\ for 3D Mobile Sensing}
% Modeling Online Social Homophily in Offline Geographical Communities
%\author{Paper ID: 1570300720}
\author{Anonymous}
\maketitle
\begin{abstract}
Mobile sensing is usually limited in 3D space, as there are many inaccessible places where people rarely venture. Unmanned aerial vehicle (UAV), commonly known as drone, has greatly extends the scope of mobile sensing in 3D space, and pushed forward a variety of 3D mobile sensing applications, such as aerial photo- or video-graphy, 3D wireless signal survey, air quality monitoring. However, the limited battery life of drones has largely restricted the wide adoption of these applications; meanwhile, the flight between two locations consumes more of the drone's battery power than hovering over one location.
% http://forum.dji.com/thread-44164-1-1.html
To maximally expand the sensing scope of the drone, in this paper, we study the trajectory planning problem for optimizing its flight route in 3D space, given its limited battery life.
Specifically, we divide the target 3D space into a network of observation locations formed by multiple 2D grids, formulate the minimum dominating path problem in each 2D grid to find the optimal trajectory that has the maximal coverage in 3D space, and then select necessary critical observation locations along the trajectory for the drone to hover and perform the measurement.
Experimental results show that the proposed algorithm outperforms other approaches XXX.
%XXX related work
%XXX 2d mobile base station
%XXX 3d map using vision technique
%XXX intro: mobile sensing in space is limited: refers to the use of the sensors of a mobile device to acquire data from the environment, which
%XXX drone sensing in space starts to receive attention, AQI, wifi, etc.
%XXX pain points: battery, noise, and hurt people
%XXX this paper studies the 1st by tracj optimization
%XXX existing work emphasizes on points 1st, then routes
%XXX this work only focus on cases that prefers routes first, then points.
\end{abstract}
\section{Introduction}~\label{sec:intro}
%1. 飞机应用很多，主要还是收集数据，飞到人类无法触及的区域或者角度。例如，拍照，采集wifi 信号，AQI 指数
Unmanned aerial vehicle (UAV), commonly known as drone, is an aircraft without a human pilot aboard, which is commonly used in measurement and sampling. Compared to manned aircraft, drones are more suitable for data collections and mobile sensing applications that capture different dimensions of signals in the environment that are beyond our sensing capability, such as aerial photography, 3D wireless signal survey, air quality index (AQI) measurement.
%
%2. 但是，飞机并未普及，很多公司还死掉了，为什么？
% 如果你真正用过玩过飞机，你就知道了（1）电池很短（2）大部分都很吵（3）无法负重因为会摇晃且电池更短
However, civilian drones are still not popular these days. Furthermore, a lot of drone companies were broken down. It could be a quite confusing problem if you have never come into attach with a drone. If you've actually tried using them, you could find that civilian drones do not really apply to daily life due to:
\begin{itemize}
  \item Low battery available time.
  \item Great noise during flight.
  \item Wing rock and more battery drain caused by poor carrying capacity.
\end{itemize}
% 自然就衍生出了一个问题，如何在短时间的电池使用时间内，采集更多的点？并且在三维空间内？
Therefore, in order to make more use of existing drones, we must consider the following problem: \textbf{How to complete flight in the shortest possible time? In other words, how to find the optimal trajectory? Furthermore, in the three-dimensional space?}
% 这个和 传统传感器网络中的，移动 base station 等工作类似，因为都是移动的，采集数据
% 但是，还是不同的，不同点包括：以前都是贪心的，我们这个问题不是
Similar to traditional sensor networks and mobile base station, we consider data collection in mobile environment. So total time consumption consists of two parts: \textbf{flight time} and \textbf{measurement time}. While we also have the following difference:
\begin{itemize}
  \item We consider optimal trajectory in three-dimensional space.
  \item We use the routing algorithm based on graph theory apart from traditional greedy algorithms.
\end{itemize}
% 这篇文章的贡献？
% problem formulation ―― spanning tree/route problem?
% 最优算法
% 多个场景下的实验验证、仿真。
In this paper, we consider optimal trajectory in three-dimensional mobile sensing. We divide three-dimensional space into a network of observation locations (OLs), and generate trajectory in two steps: select critical observation locations (COLs) from OLs to cover measurement space while find a OL-path(trajectory) that covers COLs. We formulate the problem as a constraint set coverage problem in graph theory. Specifically, we consider the following two special cases:
\begin{enumerate}
\item \emph{Consider flight time only}: Under this condition, we assume measurement time negligible and consider flight time only. We choose the shortest OL-path in OL-network to minimize flight time and select all OLs in OL-path as COLs. Therefore, we could formulate problem as a minimum dominating path. In this paper, we solved this problem in grid which could extend to three-dimensional space.
\item \emph{Consider total time consuming}: Under this condition, we consider total time consuming which is the sum of flight time and measurement time. Since flight time usually take up most of time consuming, we find the shortest OL-path first. Then in order to minimize measurement time, we select least OLs in OL-path to cover OL-network. Also, we solve this problem in grid.
\end{enumerate}
Because of algorithms we use is based on graph theory, We could get size of COL and OL-path in O(1) time while select COLs and draw trajectory in O(n) time. We use drones to verify our simulation. We find out that the flight time we use is less than ordinary approach.
\section{Related Work}~\label{sec:related}
\subsection{Drones in 3D mobile sensing}
Conventional mobile sensing systems rely on the mobile devices or ground-vehicles to perform the environmental sensing in a 2D plane, e.g., the mobile data analysis using bikes~\cite{eisenman2009bikenet} or cars~\cite{devarakonda2013real}.
%BikeNet: A mobile sensing system for cyclist experience mapping :
%BikeNet represents the first comprehensive mobile sensing system quantifying the cyclist experience and provides for the collection and analysis of personal performance and communal environmental sampling. BikeNet supports two modes of operation in support of delay-tolerant and real-time sensing, and collected data can be presented both locally to the cyclist or to others via back end services.
%
%Real-time Air Quality Monitoring Through Mobile Sensing in Metropolitan Areas:
%The first work that study the long-term stability, reliability and impact of realtime pollution monitoring systems using commodity sensors and the problems associated in deploying such systems.  Present a vehicular-based mobile approach for measuring fine-grained air quality in real-time.
Drones become more and more popular in 3D mobile sensing applications since they could capture different dimensions of signals in the 3D environment that are usually beyond our sensing capability.
Aerial photo or video-graphy applications~\cite{Newman2014Drone} facilitate the collection of images, and the analysis over the collected data. For example, it is feasible to locate anomalies in image data, and link particular image data to an address of the property where the anomaly is detected. DroneSense is a system for 3D wireless signal survey~\cite{Yu2016Automating}, i.e., measuring wireless signals in the 3D space, which provides us with an efficient method to quickly analyze wireless coverage and test their wireless propagation models. SensorFly is designed for indoor emergency response or inspections in inaccessible places where people cannot reach~\cite{Purohit2011SensorFly}, which forms aerial sensor network platform that can adapt to node and network disruptions in harsh environments.
However, these 3D mobile sensing applications of drones are constrained by the limited battery life, which motivates a more efficient measurement approach to better design the trajectory.
\subsection{Trajectory planning problem}
To address the trajectory planning problem, the genetic algorithm~\cite{Hu2006A,Yun2011Improved} and particle swarm optimization~\cite{Fu2012Phase} are always proposed for real-time path planning, which could find an optimal or near-optimal path for robotics in both complicated static and dynamic environments. These approaches have been applied on the UAV platform which could ensure partial minimality between two nodes.
Meanwhile, the trajectory planning for a large scale mobile sensing scenario is usually formulated as an ordinary Travelling Salesman Problem (TSP) or a special TSP problem~\cite{Tekdas2009Using,Savla2005On}.
Existing solutions take a two-step approach: (1) the first step is to find a minimum vertex cover in the underlying network graph (i.e., a number of measurement locations that cover the given sensing area); and (2) the second step is to find the shortest path connecting these vertices (locations), along which the mobile device can traverse to complete the mobile sensing task in space.
% Some heuristic algorithms, like Life~Long~A*~\cite{Koenig2004Lifelong}, are developed to repeatedly searches for the shortest path from a given source vertex to a given destination vertex in the network graph where the cost over edges can be changing over time.
In this paper, we take a different approach by finding the optimal path first and then selecting the measurement locations, as the flight consumes more battery than hovering for drone operations.
% give a different approach that reverses order of path finding and locations selecting, and we will give an algorithm based on graph theory which could be optimal if considering flight time only.
\section{System Model and Problem Formulation}~\label{sec:problem}
% 模仿 mobicom，这个section 就是把 你准备工作，定义、各种铺垫都写好，然后下一个 section 就可以写解法和证明了
% 例如，3d 空间怎么分，怎么定义一些变量
% 然后，problem formulation，得到一个problem，就是我们需要求解的目标
In this section, we establish a multi-layer 3D network model that are formed by multiple 2D networks for mobile sensing in the 3D space. In the first case when the flight time is dominant, we formulate the trajectory planning problem as a minimum dominating path problem. In the second case, we consider both the flight time and hovering time of the drone, and formulate the problem as a combination of the minimum dominating path problem and the constrained minimum dominating set problem.
% We will make further discussion in next subsection. Finally, we define variables that would be used to mathematical proof next section.
% 形成3D OL网络，并且定义OL的Level
\subsection{3D network model}
\begin{figure}[!t]
\small
\centering
\includegraphics[width=3.3in]{pix/sensing-traj/cuboids.pdf}
\caption{The divided cuboids, OLs, and the coverage set.}
\label{fig:cuboid}
\end{figure}
%XXX a figure
\textbf{Dividing the 3D space into cuboids}: We divide a 3D space into cuboids with $a$ meters long, $b$ meters wide and $h$ meters high. We define the center point of cuboid $i$ as its observation location (OL) (as shown in Figure~\ref{fig:cuboid}), which is denoted by the 3-tuple (longitude, latitude, and altitude), i.e.,
\[
OL_i=(x_i, y_i, z_i),
\]
where $x_i, y_i, z_i$ are 3D coordinates of $OL_i$.
\textbf{3D network of observation locations (OLs)}: OLs form a 3D network graph $NG=(V;E)$, where $V$ denotes the set of vertices and $E$ represents the edges connecting neighboring vertices. Specifically, the OL inside each cuboid~$i$ is considered as a vertex in $NG$, and an edge $(i,j)$ exists, if cuboid~$i$ is adjacent to cuboid $j$ (i.e., they are the same in two coordinates and adjacent to each other in the third dimension coordinate). As a result, the OLs forms a 3D grid in the space.
%XXX coverage set?
\textbf{Critical OL (COL)}: Given limited battery life, it is impossible for a drone to traverse all OLs in the space. Hence, we need to select a number of critical observation locations (COL) from OLs where the drone can perform the measurement.
% to cover whole OL network while find trajectory to cover COLs.
\textbf{Correlation between OLs}: We assume that the sensed data at two OLs in the same 3D space may have certain correlation. Intuitively, the more distant two OLs are located, the less correlation they may have. That is, two adjacent OLs have the strongest correlation in their sensed data; the sensed data at two adjacent OLs are almost the same if the distance between them is small. Hence, if the drone has sensed at one OL, it can skip sensing at its adjacent OLs.
\textbf{Multiple layers of 2D grids}: The 3D grid can be divided into multiple layers of 2D grids at different heights. If the drone has sensed at OLs in one layer of 2D grid, it can skip sensing at OLs in its adjacent layers of 2D grids (i.e, the one upper layer and the one lower layer).
\subsection{Time consumed}
The time consumed by the 3D mobile sensing of drones consists of two parts: (1) the flight time, and (2) the measurement time.
Let $V_C \subseteq V$ denote the set of COLs, and $v_{C_i}$ is $i-th$ vertex in $V_C$. Let $V_P \subseteq V$ denote the set of vertices in the drone's trajectory which forms a path in $NG$. We have $V_C \subseteq V_P$ since the trajectory should contain the COLs, i.e., vertices in $V_C$.
\textbf{Flight time}: the flight time $T_F$ is time consumed by the drone's flight. In the formed 3D grid, we use Hamiltonian distance to characterize the distance between OLs. So teh flight time is proportion to the length of the trajectory, which is written as
$
T_F=t_F |V_P|,
$
where $t_F$ is the flight time for a unit length in the coordinate system of the 3D grid.
\textbf{Measurement time}: the measurement time $T_M$ is time consumed by the drone for hovering and measurement. For the same sensing task (e.g., WiFi signal survey), we could assume that measurement time is the same for all OLs. So the total measurement time is proportion to the number of COLs, which can be written as
$
T_M=t_M |V_C|,
$
where $t_M$ is the measurement time at each OL.
Therefore, the total time $T$ consumed by the drone is
\[
T=T_F + T_M.
\]
\subsection{Problem formulation}
% Given a 3D space, we first establish a 3D OL network $G=(V;E)$ which forms a 3D grid. Each OL in grid has a coverage set. Due to drones' limited battery life, we want to complete flight in the shortest time. Hence, in order to minimize total time consuming, we select COLs from OLs to cover OL-network while find a OL-path(trajectory) covers COLs. We formulate this problem as a constraint set coverage problem in 3D grid.
We formulate the following two problems based on two observations: (1) the flight mode consumes more battery per unit time than the hovering mode for a drone; (2) the flight time much more than the measurement time in the trajectory for most sensing applications.
%\textbf{Competition between flight time and consideration time}:
%In order to minimize total time consuming, we want to minimize both flight time and consideration time. However, the minimality of flight time contradicts with the minimality of flight time. Therefore, since in most cases flight time would account for majority part of total time consuming, we give priority to flight time.
%
%\textbf{Two special cases of time consuming}:
%% TODO: 公式
%Due to last topic, we would give priority to flight time in this paper. Therefore, we will consider following two scenes.
%
%% TODO: add section below and 符号表示及公式
%\begin{enumerate}
%%  \item \emph{Consider measurement time only}: In this scenery, we assume flight time negligible and consider measurement time only. As we show in , measurement time is proportion to the number of COLs. So we should select least OLs as COLs to cover OL-network. We could formulate this problem as a minimum dominating set problem in grid.
%  \item \emph{Consider flight time only}: In this scene, we assume measurement time negligible and consider flight time only. As we show in, flight time is proportion to length of trajectory. Therefore, we could select every OL in trajectory as COL. We find the shortest OL-path in grid which could cover the whole OL-network and select OLs in path as COLs. We formulate this problem as a minimum dominating path problem in grid.
%  \item \emph{Consider total time consuming}: In this scene, we consider both measurement time and flight time. Since we give priority to flight time, we find the shortest OL-path first and select least OLs as COLs for measurement in OL-path. We could formulate this problem as a combination of a minimum dominating path problem and a constraint minimum dominating set problem in grid.
%\end{enumerate}
%Therefore, for two scenes above, we give definitions to them respectively.
\subsubsection{Case~1: Considering flight time only}
In this case, we assume the flight time is dominant, and the measurement time at each OL can be negligible. Then, we formulate the problem as a minimum dominating path problem in multi-layer 2D grids.
\begin{prob}[Trajectory planning by flight time only]
% 3D G is not grid G?
Given a 3D grid $NG$ divided into multi-layer 2D grids, for each grid $G=L_{m,n}=(V;E)$ where $V=\{v_0, v_1, ..., v_{|V|-1} \}$, assume the time required for completing a drone's trajectory is only relevant to the drone's flight time, and let $C(v_i)$ be the coverage set of vertex $v_i$ in $V$.
Since $V_C=V_P$, we seek to find the minimum dominating path $V_P \subseteq V$ which contains COLs in $V$ and covers all OLs in the 3D grid.
\[
\begin{aligned}
& \text{minimize}
& & \;|V_P| \\
& \text{subject to}
& & \bigcup_{v \in V_P} C(v)=V, ~~\;V_P \; is \;a \; path.
\end{aligned}
\]
\end{prob}
\subsubsection{Case~2: Considering both flight time and measurement time}
In this case, we assume the measurement time at each OL is not negligible. As the flight mode consumes more power per unit time, we first search for the shortest path that has the maximum coverage, and then select the least number of OLs along the path as COLs for measurement. We formulate this problem as a combination of a minimum dominating path problem and a constrained minimum dominating set problem in multi-layer 2D grids.
\begin{prob}[Trajectory planning by both flight time and measurement time]
Given a 3D grid $NG$ divided into multi-layer 2D grids, for each grid $G=L_{m,n}=(V;E)$ where $V=\{v_0, v_1, ..., v_{|V|-1} \}$, assume the time required for completing a drone's trajectory is dependent on the drone's flight time and measurement time, and let $C(v_i)$ be the coverage set of vertex $v_i$ in $V$.
We seek to find the minimum dominating path $V_P \subseteq V$ which covers all OLs in the 3D grid, and then select a set $V_C$ of COLs from $V_P$ as the dominating set.
\[
\begin{aligned}
& \text{minimize}
& & \;|V_P|,\;|V_C| \\
& \text{subject to}
& & \bigcup_{v \in V_P} C(v)=V,~~ \bigcup_{v \in V_C} C(v)=V,\\
&&& \;V_P \; is \;a \; path, ~~ \;V_C \subseteq V_P.
\end{aligned}
\]
\end{prob}
Therefore, we will discuss these two problems in the next section and give corresponding certifications.
\section{Finding the minimum dominating path in 2D grid}
\subsection{From dominating set to dominating path}
For proof in the following subsections, we define some variables in this subsection.
First, we give specific definitions of dominating set, connected dominating set and dominating path.
\begin{itemize}
  \item Dominating Set: A dominating set for graph $G=(V,E)$ is a subset $D \subset V$ such that every vertex not in $D$ has a neighbor on $D$.
  \item Connected Dominating Set: A connected dominating set $D$ for graph $G=(V,E)$ is a special dominating set such that any vertex in $D$ can reach any other node in $D$ by a path that stays entirely within $D$.
  \item Dominating path: A dominating path $L$ for graph $G=(V,E)$ is path $L \subset V$ such that every vertex not in $L$ has a neighbor on $L$ which is a special connected dominating set. $L$ consists of \textbf{dominating vertices} which cover vertices in $G$ and \textbf{connecting vertices} which connect dominating vertices. A connecting vertex $v$ is a vertex whose coverage set is covered by other vertices while a dominating vertex is on the contrary.
\end{itemize}
% XXX add a figure to explain how to extend dominating path, and what are dominating path vertices
We first give notations of variables.
\begin{itemize}
  \item $G=(V,E)$: Graph with vertex set $V$ and edge set $E$.
  \item $L_{m,n}$: Grid graph with m rows and n columns.
  \item $G^c_i$: Leftmost $i-th$ column in grid $G$.
  \item $G^r_i$: Topmost $i-th$ row in grid $G$.
  \item $G^c_{i,j}$: Columns between $G^c_i$ and $G^c_j$.
  \item $G^r_{i,j}$: Rows between $G^r_i$ and $G^r_j$.
  \item $v_{i,j}$: Vertex of intersection of $G^r_i$ and $G^c_j$ in grid.
  \item $N[y]=\{v,y\in V: yv\in E\} \cup \{y\}$: Coverage set of vertex $y$.
  \item $N[S]= \bigcup_{v \in S} N[v]$: Coverage set of vertex set $S \subset V$.
  \item $L$: Vertex set of dominating path.
  \item $L^c_i=L \cap G^c_i$: Intersection between $L$ and $G^c_i$.
  \item $L^r_i=L \cap G^r_i$: Intersection between $L$ and $G^r_i$.
  \item $L^c_{i,j}(G)=L \cap G^c_{i,j}$: Intersection between $L$ and $G^c_{i,j}$.
  \item $L^r_{i,j}(G)=L \cap G^r_{i,j}$: Intersection between $L$ and $G^r_{i,j}$.
  \item $D(L)$: Dominating vertices in $L$.
  \item $C(L)$: Connecting vertices in $L$.
  \item $D^c_i(L)$: Dominating vertex in $L^c_i$.
  \item $D^r_i(L)$: Dominating vertex in $L^r_i$.
  \item $D^c_{i,j}(L)$: Dominating vertices in $L^c_{i,j}(G)$.
  \item $D^r_{i,j}(L)$: Dominating vertices in $L^r_{i,j}(G)$.
  \item $C^c_{i,j}(L)$: Connecting vertices that connect vertices in $D^c_{i,j}(L)$.
  \item $C^r_{i,j}(L)$: Connecting vertices that connect vertices in $D^r_{i,j}(G)$.
  \item $C^{ccon}_{i}(L)$: Connecting vertices that connect vertices between $D^c_{1,i}(L)$ and $D^c_{i+1,n}(L)$.
  \item $\gamma(G)$: The size of minimum dominating set of $G$.
  \item $\gamma_c(G)$: The size of minimum connected dominating set of $G$.
  \item $\gamma_l(G)$: The size of minimum dominating path of $G$.
\end{itemize}
%$G=(V, E)$ denotes 3D OL network graph. $L_{m,n}$ denotes grid graph with m rows and n columns. $G^c_i$ and $G^r_i$ the leftmost $i-th$ column and topmost $i-th$ row. For graph $G$, $V(G)$ denotes set of vertices in $G$. And $v_{i,j}$ denotes the vertex in row $i$ and column $j$ in $L_{m,n}$. For any vertex $v, y\in V$, $N[y]=\{v\in V: yv\in E\} \cup \{y\}$ is the closed neighborhood of $y$ (i.e., the set of neighbors of $y$ and $y$ itself). And for $S \subset V$, $N[S]= \bigcup_{v \in S} N[v]$. We denote $G^c_{i,j}$ as columns between $G^c_i$ and $G^c_j$ and $G^r_{i,j}$ as rows between $G^r_i$ and $G^r_j$.
%$\gamma(G)$ denotes the domination number of $G$ which is the minimum size of a dominating set of $G$. $\gamma_c(G)$ denotes the minimum size of a connected dominating set of $G$. $\gamma_l(G)$ denotes the minimum size of a dominating path of $G$. For convenience, we assure dominating path $L$ as a special case of connected dominating set which could be represented as a vertex set. We also denote $L^c_{i,j}(G)$ as $L \cap G^c_{i,j}$ and $L^r_{i,j}(G)$ as $L \cap G^r_{i,j}$
% 证明现有结果
\subsection{Lower bound}
\begin{figure*}[htbp]
\begin{minipage}[t]{0.23\textwidth}
\centering
\includegraphics[width=0.23\linewidth]{pix/sensing-traj/lem2_1.pdf}
\caption{The viewing distribution of a hot message originated from Beijing.}
\label{fig:ChinaMap}
\end{minipage}%
\hfill
\begin{minipage}[t]{0.23\textwidth}
\centering
\includegraphics[width=0.23\linewidth]{pix/sensing-traj/lem2_2.pdf}
\caption{The change of modularity towards Information Increment.}
\label{fig:stability}
\end{minipage}
\hfill
\begin{minipage}[t]{0.23\textwidth}
\centering
\includegraphics[width=0.23\linewidth]{pix/sensing-traj/lem2_3.pdf}
\caption{Performance of UDM on WM and Gowalla datasets.}
\label{fig:UDM}
\end{minipage}
\begin{minipage}[t]{0.23\textwidth}
\centering
\includegraphics[width=0.23\linewidth]{pix/sensing-traj/lem2_4.pdf}
\caption{Performance of UDM on WM and Gowalla datasets.}
\label{fig:UDM}
\end{minipage}
\end{figure*}
In this case, we first give the lower bound of the minimum dominating path in a 2D grid $L_{m,n}$, and then we show how to construct such a minimum dominating path, which is the shortest path in the grid when considering the flight time only.
\begin{lem}~\label{lem:3extend}
Let $n>3$, $m>0$ be integers, and let $L$ be a dominating path in $G=L_{m,n}$. Then $|L^c_{n-2,n}(G)| \geq m$. Further, if $3 \nmid m$, then $|L^c_{n-2,n}(G)| \geq m+1$.
\end{lem}
\begin{proof}
We follow proof in \cite{Hamburger2007Routing}. Since dominating path is a special case of connected dominating set, the conclusion is also applicable to our result.
\end{proof}
In Lemma~\ref{lem:3extend}, we know that for $L$ in $G=L_{m,n}$, $|L^c_{n-2,n}(G)| \geq m$. Therefore, we consider the three periodicity of dominating path. Specifically, we could extend $L$ in $L_{m,n}$ to $L_{m,n+3}$.
%\textbf{Connecting vertex and dominating vertex}:
%Since dominating path $L$ has both connectivity and dominance, there is thus at least one vertex $v$ which $N[v] \cap N[L-v]=N[v]$. In other words, the dominating set of $v$ is contained in the dominating set of other vertices and $v$ is used to connect other vertices. We defines this kind of vertices as \textbf{connecting vertex} and others as \textbf{dominating vertex}. Similar with $G^r_{i,j}$ and $G^c_{i,j}$, assume $L$ is a dominating path in $G$, we denote $D^r_{i,j}(L)$ and $D^c_{i,j}(L)$ as dominating vertices in $L^r_{i,j}(G)$ and $L^c_{i,j}(G)$ respectively. We also denote $C^r_{i,j}(L)$ and $C^c_{i,j}(L)$ as connecting vertices in $L^r_{i,j}(G)$ and $L^c_{i,j}(G)$ respectively. And we denote $C^{ccon}_{i}(L)$ as connecting vertices between $G^c_{1,i}(L)$ and $G^c_{i+1,n}(L)$ for $G$ with $n$ columns. Besides, we denote $D(G)$ and $C(G)$ as dominating vertices and connecting vertices for minimum dominating path of graph $G$.
Since vertices in $L$ consists of dominating vertices and connecting vertices, we split dominating path in $L_{m,n+3}$ into 5 parts: $L=D^c_{1,n}(L) \cup D^c_{n+1,n+3}(L) \cup C^c_{1,n}(L) \cup C^c_{n+1,n+3}(L) \cup C^{ccon}_{n}(L)$.
\begin{lem}~\label{lem:ndominating}
Let $n \geq 2$ is integer and $L$ is minimum dominating path of $G=L_{m,n+3}$. We denote $G^*=L_{m,n}$ and $L^*$ is a minimum dominating path of $G^*$. Then there is at least one condition that $|D^c_{1,n}(L)| \geq |D(L^*)|$. In other words, none of vertices in $G^c_{1,n}$ is covered by $D^c_{n+1,n+3}(L)$.
\end{lem}
\begin{proof}
We have $|D^c_{1,n}(L)| \geq |D(L_{m,n})|$ if all vertices in $G^c_{1,n}$ is dominated by $D^c_{1,n}(L)$ since $G^c_{1,n}=G^*$. Therefore, if $|D^c_{1,n}(L)|<|D(L^*)|$, some vertices in $G^c_n$ must be dominated by $D^c_{n+1}(L)$ and do not have neighbors in $D^c_{1,n}(L)$.
%\textbf{n=2}: if there is a vertex $v$ in $G^c_2$ that not be covered by $D^c_{1,2}(L)$, its left vertex should be dominated by vertex to the up (or down) left of $v$ which is one of starting points. Then we could construct dominating path $L^'$ with $|L^'|=|L|$. We replace vertices in $G^c_1$ from inflection point to the cross point with $G^c_2$. As shown in . So $|L^*|=|L|$ and $|D^c_{1,n}(L)| \geq |D(G^*)|$.
Consider there are $k$ continuous vertices $v_k$ in $G^c_n$ dominated by $D^c_{n+1}(L)$.
If $k \geq 2$, since these $k$ vertices are not dominated by $D^c_{1,n}(L)$, the corresponding $k$ vertices $v_{k'}$ which are in the same row with $v_k$ in $G^c_{n-1}$ can not belong to $D^c_{1,n}(L)$. Therefore, k vertices $v_{k''}$ in $G^c_{n-2}$ should belong to $D^c_{1,n}(L)$ to dominate $v_{k'}$ because only two endpoints in $v_{k'}$ could be dominated by its top and bottom vertex instead, but their right neighbors could not belong to $L$ which makes $L$ irregular. So we could use the corresponding vertices in $G^c_{n-2}$ to replace them so as to shorten $L$. Then, we could use $v_{k''}$ to construct. As shown in .
Since $L^c_{n+1,n+3}$ may have multiple connected components, $L$ may step into $G^c_{n+1,n+3}$ and then move out $G^c_{n+1,n+3}$ or just move to the end point.
In the first case, since $L$ may move out from $G^c_{n+1,n+3}$, we could construct as Fig and add connecting vertex to corresponding position.
In the second case, when $D^c_{n+1}$ come from $D^c_{n+2}$, we have the following three cases. When $|v_k|>3$, $L$ would need more vertices in $G^c_{n+3}$ to dominate vertices in $G^c_{n+2}$. And we could use similar construct like the first case. When $|v_k|<3$, $L$ will need more connecting vertices which could also use the same construct. When $|v_k|=3$ and vertex in $v_k$ do not reach $G^r_m$, then vertex below $v_{k'}$ must belong to $L$. So vertices in Fig is a dominating path for $L_{6,n+3}$ partial but can not reach the minimum so that $L$ could not be the minimum dominating path because the form of minimum dominating path for has same start pointing as $L$.
When $D^c_{n+1}$ do not come from $D^c_{n+2}$, $L$ would step into $G^c_{n+1,n+3}$ in the first row, move down to $v_{m-1, n+1}$ and use vertices in $G^c_{n+3}$ to dominate remain vertices. Since $v_{1, n+1} \in L$, $v_k$ starts from $G^r_3$. Therefore, we could use similar construct before in Fig to replace $L$ to another dominating path $L^*$ where $|L^*|=|L|$
If $k=1$, then the vertex must lay in boundary otherwise it will need extra connecting vertices between $G^r_{n+1}$ and $G^r_{n+2}$. Therefore, we assume $v_{1,n+1} \in L$. Then $v_{1,n}, v_{1,n-1} \notin L$ and one of $v_{1,n-2}$ and $v_{2,n-1}$ must belong to $L$ to dominate $v_{1,n-1}$. If $v_{1,n-2} \in L$, $L$ will turn to $G^r_{n-1}$ to dominate vertices in $G^r_n$ and it will bring more vertices than the following condition. If $v_{2,n-1} \in L$, we will have $L$ like Fig (like $L_{4,11}$). This case could only exist once. We transform $L_{m,n+3}$ symmetrical. Then, $|D^c_{1,n}(L)| \geq |D(L_{m,n})|$.
\end{proof}
\begin{lem}~\label{lem:3dominating}
Given $L$ as the minimum dominating path of $G=L_{m,n+3}$, then $|D^c_{n+1,n+3}(L) \cup C^{ccon}_n(L)| \geq m$. Further, if $3 \nmid m$, then $|D^c_{n+1,n+3}(L) \cup C^{ccon}_n(L)| \geq m+1$.
\end{lem}
\begin{proof}
Since $G^c_{n+1}$ might be dominated by $D^c_{1,n}(L)$, we consider the coverage problem of $G^c_{n+2,n+3}$ only.
Before formal proof, we will prove that expect for one single case, $G^c_{n+2,n+3}$ is dominated by rows. Specifically, every row in $G^c_{n+2,n+3}$ is dominated by one connected component in $L^c_{n+1,n+3}$.
If $G^r_i$ in $G^c_{n+2,n+3}$ is dominated by two connected components in $L^c_{n+2,n+3}$, then we assume $v_{i, n+2}$ is dominated by a component above and $v_{i, n+3}$ is dominated by the other component beneath.
Therefore, there are two different scenarios. Under the first scenery, $G^r_i$ is dominated by two end vertices like Fig which can be transformed by extending one vertex to dominate all vertices dominated by two components. Under the second scenery, $G^r_i$ is dominated by one end vertex and one intermediate vertex. This is the unique case that could not be replaced. But we could take them as one part since the union of two components follows the result.
Then, we prove the lemma by induction. Obviously, when $m=1$, $|D^c_{n+1,n+3}(L) \cup C^{ccon}_n(L)| \geq 2$, when $m=2$, $|D^c_{n+1,n+3}(L) \cup C^{ccon}_n(L)| \geq 3$ and when $m=3, |D^c_{n+1,n+3}(L) \cup C^{ccon}_n(L)| \geq 3$.
Now assume the result holds for $m=k$. When $m=k+1$, if there is only one connecting component in $L^c_{n+1,n+3}$, $|\gamma_c(G^c_{n+2,n+3})| \geq m$. Adding 1 connecting vertex in $G^c_{n+1}$, $|D^c_{n+1,n+3}(L) \cup C^{ccon}_n(L)| \geq m+1$. If there are multiple connecting components in $L^c_{n+1,n+3}$, we assume $G^c_{n+2,n+3}$ is dominated by rows. If $a$ rows and $b$ rows are dominated by two connected components $L_a$ and $L_b$ respectively. If $3 \mid m$, then at most two of $a$ and $b$ could be divided by 3 so that $|(D^c_{n+1,n+3}(L) \cup C^{ccon}_n(L)) \cap (L_a \cup L_b)| \geq a+b$. If $3 \nmid m$, then at most one of $a$ and $b$ could be divided by 3 so that $|(D^c_{n+1,n+3}(L) \cup C^{ccon}_n(L)) \cap (L_a \cup L_b)| \geq a+b+1$. Therefore, multiple connected components can finally reduce to one component which also holds the result.
\end{proof}
\begin{thm}~\label{thm:3period}
Let $m \geq 2$ and $n \geq 2$ as integers. We assume $G=L_{m,n+3}$, $G^*=L_{m,n}$. Then, $\gamma_l(G) \geq \gamma_l(G^*)+m$. Further, when $3 \nmid m$, $\gamma_l(G) \geq \gamma_l(G^*)+m+1$.
\end{thm}
\begin{proof}
In Lemma~\ref{lem:ndominating} and Lemma~\ref{lem:3dominating}, we know that there exist at least one minimum dominating path $L$ in $G=L_{m,n+3}$, $|D^c_{n+1,n+3}(L)| \cup |C^{ccon}_{n}(L)| \cup |D^c_{1,n}(L)|$ could fulfill additive part in result. Therefore, if the result is false, $|C^c_{1,n}(L)| \cup |C^c_{n+1,n+3}(L)|$ in $G$ must be less than $C(L^*)$ of a minimum dominating path $L^*$ in $G^*$.
\textbf{Connectivity on the boundary}:
Because connectivity depends on structure of $G^r_n$ and there are only two start vertices in $L$, we have structures in $G^r_n$ like Fig. We will consider different structures of $L$ in $G^r_n$.
If there are only one connecting vertex $v_{i,n}$ in connected component, we have following two cases. In the first case, like Fig , we have $v_{i-1, n+1}$, $v_{i-1, n+2}$, $v_{i+1, n+1}$, $v_{i+1, n+2}$, $v_{i, n+2} \in L$. In this case, although $v_{i-1, n+1}, v_{i+1, n+1} \in C^{ccon}_n$ which decreases $|C^c_{1,n}(L)| \cup |C^c_{n+1,n+3}(L)|$, but $|C^{ccon}_{n}(L) \cup D^c_{n+1,n+3}(L)|=5$ which still use 4 vertices addition to dominate 3 rows. In the second case, we have $v_{i-1, n+1}$, $v_{i-1, n+2}$, $v_{i-1, n+3}$, $v_{i+1, n+1}$, $v_{i+1, n+2}$, $v_{i+1, n+3}$, $v_{i, n+3} \in L$ where $|C^c_{1,n}(L)| \cup |C^c_{n+1,n+3}(L)|=|C(G^*)|$.
If there are two connecting vertices in connected component, when we consider them separately, result is the same as one connecting vertex. If we consider them together, the size of $L$ in $G^r_n$ must be 4 as shown in Fig . We assume two vertices are $v_{i,n}$ and $v_{i+1,n}$. Also, we have two cases. In the first case, we have $v_{i-1, n+1}$, $v_{i-1, n+2}$, $v_{i-1,n+3}$, $v_{i,n+3}$, $v_{i+1, n+3}$, $v_{i+2, n+1}$, $v_{i+2, n+2}$, $v_{i+2, n+3} \in L$, also $|C^c_{1,n}(L)| \cup |C^c_{n+1,n+3}(L)|=|C(L^*)|$. In the second case, $|C^c_{1,n}(L)| \cup |C^c_{n+1,n+3}(L)|$ decreases 2, $|C^{conn}_{n}|$ add 2 and $|D^c_{n+1,n+3}|$ add 4 which use only 4 vertices addition to dominate 4 rows. It is less than additive part in result. However, this kind of structure could exist when $n$ is small since to reach that structure, $G^r_{i-2}$ and $G^r_{i+3}$ must be dominated by other components and this destroy the 3 periodic structure which will add more vertices in dominating path. Specifically, if there are two 2-period extends, the dominated rows will decrease more than gain in the dominating vertices. And if there are two 3-period extends, it could be replaced by similar structure which move two start points to $G^r_{n+3}$. Therefore, there are only two possibilities that the structure could exist. In the first possibility, $m \equiv 2 \pmod 3$ and $m \geq 11$, as shown in Fig , we have the structure. Consider the structure in $L_{m',n'}$. We assume the structure first appear when $n'=b$. Since $|L^c_{n'-2,n'}|=m'$, minimum dominating path $L'$ in $n'=b-3$ must hold the same structure which drop $m'+1$ vertices in origin $L'$. And this structure will hold till $n' \leq 3$. Except for $n'=1$ which is out of range, $n'=2$ or $n'=3$ do not have the same structure which makes contradictions. In the second possibility, $m' \equiv 1 \pmod 3$. However, we could simplify this case, since when $n' \equiv 0 \pmod 3$ or $n' \equiv 2 \pmod 3$, we could change $m'$ and $n'$. Therefore, we consider $m' \equiv 1 \pmod 3$ and $n' \equiv 1 \pmod 3$ only. Then, we could simplify to $L_{m',n'}$ to $L_{m',1}$ with the same approach like the first possibility which is also out of range.
\textbf{Connectivity in the middle}:
In this case, we split $L^{*c}_{1,n}$ on middle and connect two connected components in $L^c_{n+1,n+3}$ and generate $L$. We assume the origin endpoints in $L^*$ lay in $G^{*c}_n$, otherwise we need more connecting vertices between $L^c_{1,n}$ and $L^c_{n+1,n+3}$. If $C^c_{1,n}(L)| \cup |C^c_{n+1,n+3}(L)$ could be less than $|C(G^*)|$, we consider $L^c_{1,3}$. In Lemma~\ref{lem:3extend}, $|L^c_{1,3}| \geq m$ and if $3 \nmid m$, $|L^c_{1,3}| \geq m+1$. Therefore, we could move connecting vertices from $C^c_{1,3}$ to $C^c_{4,n}$ if necessary without add more vertices since there are no start point in $G^{*r}_4$ and we could reduce the extend from minimum dominating path in $L_{m,n-3}$ to $L^*$. Then, we could construct a minimum dominating path $L^{**}$ from $L^c_{4,n+3}$ and $|L^{**}| < \gamma_l(G^*)$ and this makes contradiction.
Therefore, since $|C^c_{1,n}(L)| \cup |C^c_{n+1,n+3}(L)|$ is no less than $C(L^*)$, we could prove the result.
\end{proof}
From Theorem~\ref{thm:3period}, we could also know that when $n=1$, $\gamma_l(G) \geq \gamma_l(G^*)+m$.
Assume $G=L_{m,n+3}$ and $G^*=L_{m,n}$, we denote \textbf{standard extend row} as the minimum dominating path of $L_{3,3}$. It uses only 3 vertices to dominate 3 rows which is also scalable. And it is the only structure that reach $\gamma_l(G)=\gamma_l(G^*)+m$ when $3 \mid m$ while it is one of structures that reach $\gamma_l(G)=\gamma_l(G^*)+m+1$ when $3 \mid m+1$ which satisfy additive part in Theorem~\ref{thm:3period}. Besides, we could combine standard extend row with other structure while hold minimality of vertices.
\begin{thm}~\label{thm:differentextend}
We denote \textbf{$s_3\; extend$} as extending three columns right from $L_{m,n}$ to $L_{m,n+3}$ where $|L_{m,n+3}|-|L_{m,n}|=s$. Assume $G=L_{m,n}$, there are only finite structure for $m_3 \; extend$ and $(m+1)_3 \; extend$.
\end{thm}
\begin{proof}
Multiple connected components with two start points can transform into one connected components. Therefore, we could consider the coverage problem with one start point or from middle of path.
\textbf{Extend from start point}:
We consider 4 different cases of $(m+1)_3 \; extend$ from start point in $L^c_{n+1,n+3}$. As shown in Fig .
For case (a), we need $v_{1,n}$ or $v_{m,n}$ to connect $L$. For case (b), we need $v_{1,n}$ to connect. For case (c) and (d), we need corresponding vertices in $G^r_n$ to dominate uncovered vertices in $G^r_{n+1}$.
However, case(a), case (b) and case (d) can not guarantee minimality of $L$ for further extends. Under case (b), $L$ do not reach $G^r_{n+3}$ which is still a $(m+2)_3\; extend$. Under case(a), except for $v_{m,n}$, $L$ need at least m+3 vertices in next 3-period so we could use case(b) replace case(a). Under case (d), except for standard extend row, to extend 3 columns further, $L$ will need two more extra vertices to connect. Therefore, we have at most one case (b) or case (d) in last period.
Under case (c), we consider previous 3-period of $L$. Since $G^r_{n+1}$ should be dominated by corresponding vertices in $G^r_n$, $v_{1,n-1}$ should be dominated by $G^r_{n-2}$. Therefore, there are $2m$ vertices in previous period. Therefore, we could have at most one case (c).
\textbf{Extend from middle}:
Obviously, we could use standard extend row extend from middle.
Except for pure standard extend row, there is still one structure in Theorem~\ref{thm:3period}. With standard extend row, when $n=1$, it could bring $m_3 \; extend$, and when $n \equiv 2 \pmod 3$ and $n \geq 11$, it could bring $(m+1)_3 \; extend$. But they can only occur once.
\textbf{Rotate direction}:
Since we may change the origin structure of $L$, we could rotate direction of extend direction by 90 degree. Therefore, when $m \equiv 0 \pmod 3$, we may use standard extend row on rotated structure which could bring a $(m+1)_3 \; extend$. But similarly, this method could only exist once for the same $m$.
Therefore, there are only several cases for $m_3 \; extend$ and $(m+1)_3 \; extend$.
\textbf{$m_3 \; extend$}:
\begin{itemize}
  \item When $m \equiv 0 \pmod 3$, pure standard extend row.
  \item When $n=1$, structure in Theorem~\ref{thm:3period}.
\end{itemize}
\textbf{$(m+1)_3 \; extend$}:
\begin{itemize}
  \item Once case (c).
  \item Once case (b) or (d).
  \item Once Rotate direction with standard extend row on rotated structure.
  \item When $n \equiv 2 \pmod 3$ and $n \geq 11$, structure in Theorem~\ref{thm:3period}.
\end{itemize}
%In general, We have at most one case (c) and at most one case (b) or (d) with or without $standard extend row$. We could also use a $m \; 3-period \; extend$ on the $L^*$ where $|L^*|=|L|+1$, i.e., we could rotate the extend rotation by 90 degree and use standard extend row on it. When $m \equiv 2 \pmod 3$, like($L_{11,4}$) could only exist once also. When $m \equiv 2 \pmod 3$ and $n \equiv 2 \pmod 3$, like($L_{5, 11}$) could be a {m+1 \; 3-period \; extend}. When $m \equiv 0 \pmod 3$ and $n \equiv 2 \pmod 3$, like($L_{6, 11}$) could be a {m+1 \; 3-period \; extend}.
\end{proof}
\subsection{Optimal Trajectory Planning Algorithms}\label{sec:floating}
We have four cases to construct minimum dominating path $L$ in grid $G=L_{m,n}$: (1) $m<4$ and $m<n$; (2) $m \equiv 0 \pmod 3$, $n \equiv 1 \pmod 3$ or $m \equiv 2 \pmod 3$, $n \equiv 1 \pmod 3$; (3) $m \equiv 0 \pmod 3$, $n \equiv 0 \pmod 3$ or $m \equiv 0 \pmod 3$, $n \equiv 2 \pmod 3$ or $m \equiv 2 \pmod 3$, $n \equiv 2 \pmod 3$; and (4) $m \equiv 1 \pmod 3$, $n \equiv 1 \pmod 3$.

\subsubsection{Case~1}
Since connected dominating set is also dominating path when $m<4$ and $m<n$, we have the same structure as shown in Figure~ of \cite{Hamburger2007Routing}.
Therefore, we have
\begin{enumerate}
  \item $\gamma_l(L_{1,1})=\gamma_l(L_{1,2})=1$, and if $3 \leq n$, $\gamma_l(L_{1,n})=n-2$
  \item $\gamma_l(L_{2,2})=\gamma_l(L_{2,3})=2$, and if $4 \leq n$, $\gamma_l(L_{2,n})=n$
  \item $\gamma_l(L_{3,n})=n$
\end{enumerate}

\subsubsection{Case~2}
Since minimum dominating path in $L{m,1}$ contains $m-2-\lceil \frac{m}{3} \rceil$ connecting vertices, standard extend row can be used to construct a $m_3 extend$ or $(m+1)_3 extend$. Further, from Theorem~\ref{thm:differentextend}, we know that when $m \equiv 2 \pmod3$ and $n=1$, we could construct a $m_3 extend$.
Therefore, when $m \equiv 0 \pmod 3$, $n \equiv 1 \pmod 3$ or $m \equiv 2 \pmod 3$, $n \equiv 1 \pmod 3$, we could use standard extend row to construct minimum dominating path, as shown in Figure~ . And when $m \equiv 2 \pmod3$, we have structure shown in Figure
When $m \equiv 0 \pmod 3$, $n \equiv 1 \pmod 3$, we have $\gamma_l(L_{m,n})=3ab+3a-2$. When $m \equiv 2 \pmod 3$, $n \equiv 1 \pmod 3$, we have
\[
\begin{aligned}
&\gamma_l(L_{m,n})\\
&=\left\{
\begin{array}{rcl}
3ab+3a+3b       &      & {a \leq 2}\\
3ab+3a+3b-1       &      & {otherwise}\\
\end{array} \right.
\end{aligned}
\].

\subsubsection{Case~3}
When $a=1$, $\gamma_l(L_{3,n})=3b+2$. And the two structures is as shown in Fig . Since $n \equiv 2 \pmod 3$, we could use $(m+1)_3 extend$ when $n \geq 11$.
Assume we have proved the case when $a \leq k$, we consider the case when $a=k+1$.
When $b \leq \lfloor \frac{k}{2} \rfloor$, $\gamma_l(L_{m,n})=3kb+3k+2b-2$ has structure (a), we could use only standard extend row to reach a $(n+1)_3 \; extend$ which reaches lower bound. When $b>\lfloor \frac{k}{2} \rfloor$, $\gamma_l(L_{m,n})=3kb+4k-2$ has structure (b), and we could only have a $(n+2)_3 \; extend$ from its structure. Since we could get $\gamma_l(L_{3k+3,3b+2})=3kb+3k+5b+1$ which has structure (a). Since we do not have structure in ~\ref{thm:differentextend} for minimum dominating path in both $L_{3k+3,3b+2}$ and $L_{3k,3b+5}$. We could only use standard extend row in structure (a) or (b) and the result is also in structure (a) or (b). Therefore, we could use standard extend rows in structure (b) to reach optimal solution in Theorem~\ref{thm:3period}.
We could use reduction to prove the result on the other two cases. When $m \equiv 0 \pmod 3$, $n \equiv 0 \pmod 3$, assume $m \leq n$, we use standard extend row to extend columns. Similarly,  When $m \equiv 2 \pmod 3$, $n \equiv 2 \pmod 3$, assume $m \leq n$, we use standard extend row to extend column and when $a>2$, we use structure in Fig. once.

\subsubsection{Case~4}
Consider the condition when $a=1$. When $b=1$, we have $\gamma_l(L_{4,4})=8$ with following structure. Therefore, we could use $(m+1)_3 \; extend$ case (b) and case (c) respectively to get $\gamma_l(L_{4,7})=13$ and $\gamma_l(L_{4,10})=18$. Till now, $L_{4,10}$ is a $m_3 \; extend$ for $L_{1,10}$ using ... and reach the lower bound on Theorem~\ref{thm:3period}. When $b \geq 4$, we could also get $m_3 \; extend$ on $L_{4,n}$ using standard extend row on the extend of $L_{4, 10}$. Therefore, when $b \geq 3$, we have $\gamma_l(L_{4, 3b+1})=6b$.
When $a=2$ and $b=2$, we could use a $(m+1)_3 \; extend$ on $L_{4,7}$ and get $\gamma_l(L_{7,7})=21$
When $a \geq 2$, we know that case (b), case (d) and structure in Fig could only exist once. Therefore, when $b \geq 3$, we have $\gamma_l(L_{3a+1,3b+1})=3ab+3a+3b-3$ which is $a-1$ times $(m+2)_3 \; extend$ from $L_{4,3b+1}$.
Therefore, when $a+b \leq 4$, we could use a $(m+1)_3 \; extend$ for each add one on $a$ or $b$ on the basis of $L_{4,4}$.


%\begin{prop}
%$\\$
%\begin{enumerate}
%  \item $\gamma_l(L_{1,1})=\gamma_l(L_{1,2})=1$, and if $3 \leq n$, $\gamma_l(L_{1,n})=n-2$
%  \item $\gamma_l(L_{2,2})=\gamma_l(L_{2,3})=2$, and if $4 \leq n$, $\gamma_l(L_{2,n})=n$
%  \item $\gamma_l(L_{3,n})=n$
%\end{enumerate}
%\end{prop}
%
%\begin{proof}
%Since connected dominating set is also dominating path when $m \leq 3$ or $n \leq 3$, we have the same result as \cite{Hamburger2007Routing}.
%
%\end{proof}
%We denote $a=\lfloor \frac{m}{3} \rfloor$, $b=\lfloor \frac{n}{3} \rfloor$. And we will show six different cases for minimum dominating path for $L_{m,n}$ and give its proof.
%
%
%\begin{prop}
%Assume $m \geq 4$, $n \geq 4$. When $m \equiv 0 \pmod 3$, $n \equiv 1 \pmod 3$, we have $\gamma_l(L_{m,n})=3ab+3a-2$. When $m \equiv 2 \pmod 3$, $n \equiv 1 \pmod 3$, we have
%\[
%\begin{aligned}
%&\gamma_l(L_{m,n})\\
%&=\left\{
%\begin{array}{rcl}
%3ab+3a+3b       &      & {a \leq 2}\\
%3ab+3a+3b-1       &      & {otherwise}\\
%\end{array} \right.
%\end{aligned}
%\].
%\end{prop}
%
%\begin{proof}
%When $m \equiv 0 \pmod 3$ or $m \equiv 2 \pmod 3$, standard extend row could reach $m_3 \; extend$ and $(m+1)_3 \; extend$ respectively which is better than other structure.
%
%When $n=1$, $\gamma_l{L_{m,1}}=m-2$. $L$ contains $m-2-\lceil \frac{m}{3} \rceil$ connecting vertices which can be used to in standard extend rows. As shown in . Further, when $m \equiv 2 \pmod 3$ and $m \geq 11$, the structure in Fig. could bring a $m_3 \; extend$.
%
%Then, when $n>1$, due to Theorem~\ref{thm:3period}, we could use standard extend rows to achieve optimal results.
%
%Therefore, when $m \equiv 0 \pmod 3$, $n \equiv 1 \pmod 3$,
%\begin{equation*}
%\begin{aligned}
%\gamma_l(L_{m,n}) &= a(3b+1)+2(a-1) \\
%&= 3ab+3a-2
%\end{aligned}
%\end{equation*}
%
%When $m \equiv 2 \pmod 3$, $n \equiv 1 \pmod 3$, if $a \leq 2$,
%\begin{equation*}
%\begin{aligned}
%\gamma_l(L_{m,n}) &= (a+1)(3b+1)+2(a-1)+1 \\
%&= 3ab+3a+3b
%\end{aligned}
%\end{equation*}
%
%if $a>2$,
%\begin{equation*}
%\gamma_l(L_{m,n})=3ab+3a+3b-1
%\end{equation*}
%
%\end{proof}
%\begin{prop}
%Assume $m \geq 4$, $n \geq 4$. When $m \equiv 0 \pmod 3$, $n \equiv 0 \pmod 3$, assume $m \leq n$, we have
%$\gamma_l(L_{m,n})=3ab+2a-2$.
%When $m \equiv 0 \pmod 3$, $n \equiv 2 \pmod 3$, we have
%\[
%\begin{aligned}
%&\gamma_l(L_{m,n})\\
%&=\left\{
%\begin{array}{rcl}
%min (3ab+4a-2, 3ab+3a+2b-1)       &      & {b \leq 2}\\
%min (3ab+4a-2, 3ab+3a+2b-2)       &      & {otherwise}\\
%\end{array} \right.
%\end{aligned}
%\].
%When $m \equiv 2 \pmod 3$, $n \equiv 2 \pmod 3$, assume $m \leq n$, we have
%\[
%\begin{aligned}
%&\gamma_l(L_{m,n})\\
%&=\left\{
%\begin{array}{rcl}
%3ab+4a+3b+1       &      & {a \leq 2}\\
%3ab+4a+3b      &      & {otherwise}\\
%\end{array} \right.
%\end{aligned}
%\].
%Moreover, the results have a same structure.
%\end{prop}
%\begin{proof}
%Since we use similar proof methods for 3 cases, we only prove $m \equiv 0 \pmod 3$, $n \equiv 2 \pmod 3$. We will use reduction in $a$.
%When $a=1$, $\gamma_l(L_{3,n})=3b+2$. And the two structures is as shown in Fig . Since $n \equiv 2 \pmod 3$, we could use $(m+1)_3 extend$ when $n \geq 11$.
%Assume we have proved the case when $a \leq k$, we consider the case when $a=k+1$.
%When $b \leq \lfloor \frac{k}{2} \rfloor$, $\gamma_l(L_{m,n})=3kb+3k+2b-2$ has structure (a), we could use only standard extend row to reach a $(n+1)_3 \; extend$ which reaches lower bound. When $b>\lfloor \frac{k}{2} \rfloor$, $\gamma_l(L_{m,n})=3kb+4k-2$ has structure (b), and we could only have a $(n+2)_3 \; extend$ from its structure. Since we could get $\gamma_l(L_{3k+3,3b+2})=3kb+3k+5b+1$ which has structure (a). Since we do not have structure in ~\ref{thm:differentextend} for minimum dominating path in both $L_{3k+3,3b+2}$ and $L_{3k,3b+5}$. We could only use standard extend row in structure (a) or (b) and the result is also in structure (a) or (b). Therefore, we could use standard extend rows in structure (b) to reach optimal solution in Theorem~\ref{thm:3period}.
%We could use reduction to prove the result on the other two cases. When $m \equiv 0 \pmod 3$, $n \equiv 0 \pmod 3$, assume $m \leq n$, we use standard extend row to extend columns. Similarly,  When $m \equiv 2 \pmod 3$, $n \equiv 2 \pmod 3$, assume $m \leq n$, we use standard extend row to extend column and when $a>2$, we use structure in Fig. once.
%\end{proof}
%\begin{prop}
%Assume $m \geq 4$, $n \geq 4$. When $m \equiv 1\pmod 3$, $n \equiv 1\pmod 3$, $a \geq 1$ and $b \geq 1$, we have
%\[
%\begin{aligned}
%&\gamma_l(L_{m,n})\\
%&=\left\{
%\begin{array}{rcl}
%3ab+3a+3b-3       &      & {a+b \leq 4}\\
%3ab+2a+2b+1       &      & {otherwise}\\
%\end{array} \right.
%\end{aligned}
%\].
%\end{prop}
%\begin{proof}
%Consider the condition when $a=1$. When $b=1$, we have $\gamma_l(L_{4,4})=8$ with following structure. Therefore, we could use $(m+1)_3 \; extend$ case (b) and case (c) respectively to get $\gamma_l(L_{4,7})=13$ and $\gamma_l(L_{4,10})=18$. Till now, $L_{4,10}$ is a $m_3 \; extend$ for $L_{1,10}$ using ... and reach the lower bound on Theorem~\ref{thm:3period}. When $b \geq 4$, we could also get $m_3 \; extend$ on $L_{4,n}$ using standard extend row on the extend of $L_{4, 10}$. Therefore, when $b \geq 3$, we have $\gamma_l(L_{4, 3b+1})=6b$.
%When $a=2$ and $b=2$, we could use a $(m+1)_3 \; extend$ on $L_{4,7}$ and get $\gamma_l(L_{7,7})=21$
%When $a \geq 2$, we know that case (b), case (d) and structure in Fig could only exist once. Therefore, when $b \geq 3$, we have $\gamma_l(L_{3a+1,3b+1})=3ab+3a+3b-3$ which is $a-1$ times $(m+2)_3 \; extend$ from $L_{4,3b+1}$.
%Therefore, when $a+b \leq 4$, we could use a $(m+1)_3 \; extend$ for each add one on $a$ or $b$ on the basis of $L_{4,4}$.
%\end{proof}
\begin{algorithm}[htb]
\caption{Trajectory planning for UAV in grid when consider flight time only}
\label{alg:Framwork1}
\begin{algorithmic}[1]
\Require
The graph of trajectory planning, $L_{m,n}$;
The length of grid, $m$;
The width of gird, $n$;
\Ensure
The trajectory of two-dimensional coordinate of grid, $V_P$;
\label{code:fram:calculateab}
\State $a=\lfloor \frac{m}{3} \rfloor$, $b=\lfloor \frac{m}{3} \rfloor$, $ra \equiv m \pmod 3$, $rb \equiv n \pmod 3$;
\label{code:fram:judgemod}
\If{$(ra=1$ and $rb=0)$ or $(ra=1$ and $rb=2)$ or $(ra=0$ and $rb=2$ and $a>2b)$ or $(ra=2$ and $rb=0$ and $b \leq 2a)$ or $(ra \equiv rb \pmod 3$ and $a>b)$}
\State swap($m$, $n$), swap($a$, $b$), swap($ra$, $rb$);
\EndIf
\label{code:fram:calculate}
\If{$m<4$ or $n<4$}
    \If{$m>n$}
        \State swap($m$, $n$), swap($a$, $b$), swap($ra$, $rb$);
    \EndIf
    \If{$m=1$}
        \State put $G^r_1$ except $v_{1,1}$ into $V_P$;
        \State \textbf{if} $n=1$, \textbf{then} put $v_{1,1}$ into $V_P$;
%        \If{$n<3$}
%            \State put $v_{1,1}$ into $V_P$;
%        \Else
%            \State put $G^r_1$ into $V_P$ except $v_{1,1}$
%            \For{$i=2$ to $n-1$}
%                \State put $v_{1, i}$ into $V_P$;
%            \EndFor
%        \EndIf
    \ElsIf{$m=2$ and $n=3$}
        \State put $v_{1,2}$, $v_{2,2}$ into $V_P$;
    \ElsIf($m=2$)
        \State put $G^r_1$ into $V_P$;
%        \If{$n=3$}
%            \State put $v_{1,2}$, $v_{2,2}$ into $V_P$;
%        \Else
%            \For{$i=1$ to $n$}
%                \State put $v_{1, i}$ into $V_P$;
%            \EndFor
%        \EndIf
    \Else
        \State put $G^r_2$ into $V_P$;
%        \For{$i=1$ to $n$}
%            \State put $v_{2, i}$ into $V_P$;
%        \EndFor
    \EndIf
\ElsIf{$m \equiv 0 \pmod 3$}
    \State put $G^r_2$, $G^r_5$ ... , $G^r_{3a-1}$ into $V_P$;
    \State put connecting vertices in $G^c_1$ and $G^c_n$ into $V_P$;
%    \For{$i=1$ to $n$}
%        \For{$j=0$ to $a-1$}
%            \State put $v_{3*j+2, i}$ into $V_P$;
%        \EndFor
%    \EndFor
%    \For{$i=1$ to $a-1$}
%        \If{$i \equiv 1\pmod 2$}
%            \State put $v_{3*i, 1}$, $v_{3*i+1, 1}$ into $V_P$;
%        \Else
%            \State put $v_{3*i, n}$, $v_{3*i+1, n}$ into $V_P$;
%        \EndIf
%    \EndFor
\ElsIf{$m \equiv 2 \pmod 3$}
    \If{$a>2$}
        \State put $v_{2,1}$, $v_{3,1}$, $v_{6,2}$, $v_{7,2}$ into $V_P$;
        \State put $G^r_2$, $G^r_5$, $G^r_8$ except vertices in $G^c_1$ into $V_P$;
        \State put $G^r_10$, $G^r_13$..., $G^r_{3a+1}$ into $V_P$;
        \State put connecting vertices in $G^c_1$ and $G^c_n$ into $V_P$;
%        \For{$i=2$ to $n$}
%            \State put $v_{2,i}$, $v_{5,i}$, $v_{8,i}$ into $V_P$;
%        \EndFor
%
%        \For{$i=1$ to $n$}
%            \For{$j=3$ to $a$}
%                \State put $v_{3*j+1, i}$ into $V_P$;
%            \EndFor
%        \EndFor
%
%        \For{$i=3$ to $a-1$}
%            \If{$i \equiv 1\pmod 2$}
%                \State put $v_{3*i+2, 1}$, $v_{3*i+3, 1}$ into $V_P$;
%            \Else
%                \State put $v_{3*i+2, n}$, $v_{3*i+3, n}$ into $V_P$;
%            \EndIf
%        \EndFor
    \Else
        \State put $G^r_2$ into $V_P$;
        \State put $G^r_4$, ..., $G^r_{3a+1}$ into $V_P$;
        \State put connecting vertices in $G^c_1$ and $G^c_n$ into $V_P$;
%        \State put $v_{3,n}$ into $V_P$;
%        \For{$i=1$ to $n$}
%            \State put $v_{2,i}$ into $V_P$;
%        \EndFor
%        \For{$i=1$ to $n$}
%            \For{$j=1$ to $a$}
%                \State put $v_{3*j+1, i}$ into $V_P$;
%            \EndFor
%        \EndFor
%
%        \If{$a=2$}
%            \State put $v_{5,1}$, $v_{6,1}$ into $V_P$;
%        \EndIf
    \EndIf
\Else
    \If{$a \leq 2$ and $b \leq 2$}
        \State \textbf{if} $a \geq 1$ and $b \geq 1$, \textbf{then} put $v_{1,2}$, $v_{2,2}$, $v_{3,2}$, $v_{4,2}$, $v_{4,3}$, $v_{4,4}$, $v_{3,4}$, $v_{2,4}$ into $V_P$;
        \State \textbf{if} $a \geq 1$ and $b=2$, \textbf{then} put $v_{2,5}$, $v_{2,6}$, $v_{2,7}$, $v_{3,7}$, $v_{4,7}$ into $V_P$;
        \State \textbf{if} $a=2$, \textbf{then} put $v_{5,7}$, $v_{6,7}$, $v_{6,6}$, $v_{6,5}$, $v_{6,4}$, $v_{6,3}$, $v_{6,2}$, $v_{6,1}$ into $V_P$;
    \Else
        \State put $v_{1,2}$, $v_{2,5}$, $v_{2,6}$ into $V_P$;
        \State put $G^c_2$, $G^c_4$, $G^c_7$ except vertices in $G^r_1$ into $V_P$;
        \State put $G^c_9$, $G^c_12$, ..., $G^c_{3b}$ into $V_P$;
        \State put connecting vertices in $G^r_1$ and $G^r_m$ into $V_P$;
%        \For{$i=2$ to $m$}
%            \State put $v_{i,2}$, $v_{i,4}$, $v_{i,7}$ into $V_P$;
%        \EndFor
%
%        \For{$i=1$ to $m$}
%            \For{$j=3$ to $b$}
%                \State put $v_{i, 3*j}$ into $V_P$;
%            \EndFor
%        \EndFor
%
%        \For{$i=3$ to $b-1$}
%            \If{$i \equiv 1\pmod 2$}
%                \State put $v_{1, 3*i+1}$, $v_{1, 3*i+2}$ into $V_P$;
%            \Else
%                \State put $v_{m, 3*i+1}$, $v_{m, 3*i+2}$ into $V_P$;
%            \EndIf
%        \EndFor
    \EndIf
\EndIf
\Return $V_P$;
\end{algorithmic}
\end{algorithm}
\section{Finding the COLs from the minimum dominating path}
\subsection{Consider total time consuming}
From last subsection, we know how to find the minimum dominating path in $L_{m,n}$. Therefore, we just have to find the set of COLs $V_C$ in dominating path $L$. However, since we have already discussed dominating vertices in last subsection, we only need to add all dominating vertices into $V_C$. In general, we only have 1 case for COL which is $standard extend row$ and in this case, we just take the entire row into $V_C$ and add
Therefore, for the 6 different cases, we have the following result.
\begin{prop}
$\\$
\begin{enumerate}
  \item $\gamma_l(L_{1,n})=\lfloor \frac{n+2}{3} \rfloor$
  \item $\gamma_l(L_{2,2})=\gamma_l(L_{2,3})=2$, and if $4 \leq n$, $\gamma_l(L_{2,n})=n$
  \item $\gamma_l(L_{3,n})=n$
\end{enumerate}
\end{prop}
\begin{prop}
Assume $m \geq 4$, $n \geq 4$. When $m \equiv 0 \pmod 3$, $n \equiv 1 \pmod 3$, we have $|V_C|=3ab+a$. When $m \equiv 2 \pmod 3$, $n \equiv 1 \pmod 3$, we have
\[
\begin{aligned}
&|V_C|\\
&=\left\{
\begin{array}{rcl}
3ab+a+3b+1       &      & {a \leq 2}\\
3ab+a+3b+2       &      & {otherwise}\\
\end{array} \right.
\end{aligned}
\].
\end{prop}
% TODO 化简 b 小于等于 2 的情况，增加 1、2、3的情况
\begin{prop}
Assume $m \geq 4$, $n \geq 4$. When $m \equiv 0 \pmod 3$, $n \equiv 0 \pmod 3$, we have
$|V_C|=3ab$.
When $m \equiv 0 \pmod 3$, $n \equiv 2 \pmod 3$, we have
\[
\begin{aligned}
&|V_C|\\
&=\left\{
\begin{array}{rcl}
3ab+2a       &      & {b \leq 2, 3ab+4a-2 \leq 3ab+3a+2b-1}\\
3ab+3a       &      & {b \leq 2, 3ab+4a-2 > 3ab+3a+2b-1}\\
3ab+2a       &      & {b > 2, 3ab+4a-2 \leq 3ab+3a+2b-2}\\
3ab+3a+1       &      & {otherwise}\\
\end{array} \right.
\end{aligned}
\].
When $m \equiv 2 \pmod 3$, $n \equiv 2 \pmod 3$, assume $m \leq n$, we have
\[
\begin{aligned}
&|V_C|\\
&=\left\{
\begin{array}{rcl}
3ab+2a+3b+2       &      & {a \leq 2}\\
3ab+2a+3b+3       &      & {otherwise}\\
\end{array} \right.
\end{aligned}
\].
Besides, the results have a same structure.
\end{prop}
\begin{prop}
Assume $m \geq 4$, $n \geq 4$. When $m \equiv 1\pmod 3$, $n \equiv 1\pmod 3$, $a \geq 1$ and $b \geq 1$, assume $m \leq n$, we have
\[
\begin{aligned}
&|V_C|\\
&=\left\{
\begin{array}{rcl}
7        &      & {a=1, b=1}\\
10       &      & {a=1, b=2}\\
17       &      & {a=2, b=2}\\
3ab+3a+b-1       &      & {otherwise}\\
\end{array} \right.
\end{aligned}
\].
\end{prop}
% 相关算法
\subsection{Optimal Trajectory Planning Algorithms}
\begin{algorithm}[htb]
\caption{Trajectory planning for UAV in grid when consider total time consuming}
\label{alg:Framwork2}
\begin{algorithmic}[1]
\Require
The graph of trajectory planning, $L_{m,n}$;
The length of grid, $m$;
The width of gird, $n$;
\Ensure
The trajectory of two-dimensional coordinate of grid, $V_P$;
The COL set of two-dimensional coordinate of grid, $V_C$;
\label{code:fram:judgemod}
\State do algorithm 1 and get $V_P$.
\label{code:fram:calculateab}
\State $a=\lfloor \frac{m}{3} \rfloor$, $b=\lfloor \frac{m}{3} \rfloor$, $ra \equiv m \pmod 3$, $rb \equiv n \pmod 3$;
\label{code:fram:calculate}
\If{$m<4$ or $n<4$}
    \If{$(m=1$ and $n \leq 3)$ or $m \geq 2$}
        \State $V_C=V_P$;
%        \If{$n<3$}
%            \State $V_C=V_P$;
%        \Else
%            \For{$i=0$ to $b-1$}
%                \State put $v_{1, 3i+2}$ into $V_C$;
%            \If{$n \equiv 1 \pmod 3$ or $n \equiv 2 \pmod 3$}
%                \State put $v_{1, 3b+1}$ into $V_C$;
%            \EndIf
%            \EndFor
%        \EndIf
    \Else
        \State put $v_{1,2}$, $v_{1,5}$, ..., $v_{1, 3b-1}$ into $V_C$;
        \State \textbf{If} $rb=1$ or $rb=2$, \textbf{then} put $v_{1,3b+1}$ into $V_C$
    \EndIf
\ElsIf{$m \equiv 0 \pmod 3$}
    \State put $G^r_2$, $G^r_5$ ... , $G^r_{3a-1}$ into $V_C$;
%    \For{$i=1$ to $n$}
%        \For{$j=0$ to $a-1$}
%            \State put $v_{3*j+2, i}$ into $V_C$;
%        \EndFor
%    \EndFor
\ElsIf{$m \equiv 2 \pmod 3$}
    \If{$a>2$}
        \State put $v_{2,1}$, $v_{3,1}$, $v_{6,2}$, $v_{7,2}$ into $V_C$;
        \State put $G^r_2$, $G^r_5$, $G^r_8$ except vertices in $G^c_1$ into $V_C$;
        \State put $G^r_10$, $G^r_13$..., $G^r_{3a+1}$ into $V_C$;
%        \For{$i=2$ to $n$}
%            \State put $v_{2,i}$, $v_{5,i}$, $v_{8,i}$ into $V_C$;
%        \EndFor
%
%        \For{$i=1$ to $n$}
%            \For{$j=3$ to $a$}
%                \State put $v_{3*j+1, i}$ into $V_C$;
%            \EndFor
%        \EndFor
    \Else
        \State put $G^r_2$ into $V_C$;
        \State put $G^r_4$, ..., $G^r_{3a+1}$ into $V_C$;
%        \For{$i=1$ to $n$}
%            \State put $v_{2,i}$ into $V_C$;
%        \EndFor
%
%        \For{$i=1$ to $n$}
%            \For{$j=1$ to $a$}
%                \State put $v_{3*j+1, i}$ into $V_C$;
%            \EndFor
%        \EndFor
    \EndIf
\Else
    \If{$a \leq 2$ and $b \leq 2$}
        \State \textbf{if} $a \geq 1$ and $b \geq 1$, \textbf{then} put $v_{1,2}$, $v_{2,2}$, $v_{3,2}$, $v_{4,2}$, $v_{4,4}$, $v_{3,4}$, $v_{2,4}$ into $V_C$;
        \State \textbf{if} $a \geq 1$ and $b=2$, \textbf{then} put $v_{2,5}$, $v_{2,6}$, $v_{2,7}$, $v_{4,7}$ into $V_C$ and move $v_{3,4}$ out from $V_C$;
        \State \textbf{if} $a=2$, \textbf{then} put $v_{6,7}$, $v_{6,6}$, $v_{6,5}$, $v_{6,4}$, $v_{6,3}$, $v_{6,2}$, $v_{6,1}$ into $V_C$;
%    \If{$a=1$ and $b=1$}
%        \State put $v_{1,2}$, $v_{2,2}$, $v_{3,2}$, $v_{4,2}$, $v_{4,4}$, $v_{3,4}$, $v_{2,4}$ into $V_C$;
%
%    \ElsIf{$a=1$ and $b=2$}
%        \State put $v_{1,2}$, $v_{2,2}$, $v_{3,2}$, $v_{4,2}$, $v_{4,4}$, $v_{2,4}$, $v_{2,5}$, $v_{2,6}$, $v_{2,7}$, $v_{4,7}$ into $V_C$;
%
%    \ElsIf{$a=2$ and $b=2$}
%        \State put $v_{1,2}$, $v_{2,2}$, $v_{3,2}$, $v_{4,2}$, $v_{4,4}$, $v_{2,4}$, $v_{2,5}$, $v_{2,6}$, $v_{2,7}$, $v_{4,7}$, $v_{6,7}$, $v_{6,6}$, $v_{6,5}$, $v_{6,4}$, $v_{6,3}$, $v_{6,2}$, $v_{6,1}$ into $V_C$;
    \Else
        \State put $v_{2,4}$, $v_{2,5}$, $v_{2,6}$, $v_{2,7}$ into $V_C$;
        \State put $G^c_2$ into $V_C$;
        \State put $G^c_4$, $G^c_7$ except for $G^r_{1,3}$ into $V_C$;
        \State put $G^c_{10}$, $G^c_{13}$, ..., $G^c_{3b}$ into $V_C$;
%        \For{$i=1$ to $m$}
%            \State put $v_{i,2}$ into $V_C$;
%        \EndFor
%
%        \For{$i=4$ to $m$}
%            \State put $v_{i,4}$, $v_{i,7}$ into $V_C$;
%        \EndFor
%
%        \For{$i=1$ to $m$}
%            \For{$j=3$ to $b$}
%                \State put $v_{i, 3*j}$ into $V_C$;
%            \EndFor
%        \EndFor
    \EndIf
\EndIf
\Return $V_P$, $V_C$;
\end{algorithmic}
\end{algorithm}
\section{Evaluation}\label{sec:experiment}
% 仿真
% 实验准备，可以模仿 mobicom 那篇的写法，把一些硬件也写进去，AQI 只是个负重的例子，目的是我们这个是 general 3D sensing 都可以用，不一定只是测量 AQI。
% 真实的放飞实验，看看电池能飞多久。
\begin{figure*}
\begin{minipage}[c]{0.23\textwidth}
\centering
\includegraphics[width=1.0\linewidth]{pix/sensing-traj/eva_compare1.pdf}
\caption{Time consuming of three algorithms with different granularity of measurement time.}
\label{fig:comp1}
\end{minipage}%
\hfill
\begin{minipage}[c]{0.23\textwidth}
\centering
\includegraphics[width=1.0\linewidth]{pix/sensing-traj/eva_compare2.pdf}
\caption{Battery coverage of three algorithms with different granularity of measurement time.}
\label{fig:comp2}
\end{minipage}
\hfill
\begin{minipage}[c]{0.23\textwidth}
\centering
\includegraphics[width=1.0\linewidth]{pix/sensing-traj/eva_compare3.pdf}
\caption{Time consuming of three algorithms with different loads when considering flight time only.}
\label{fig:comp3}
\end{minipage}
\begin{minipage}[c]{0.23\textwidth}
\centering
\includegraphics[width=1.0\linewidth]{pix/sensing-traj/eva_compare4.pdf}
\caption{Battery coverage of three algorithms with different loads when considering flight time only.}
\label{fig:comp4}
\end{minipage}
\end{figure*}
\begin{figure*}
\begin{minipage}[t]{0.3\textwidth}
\centering
\includegraphics[width=0.8\linewidth]{pix/sensing-traj/eva_timeconsume.pdf}
\caption{Comparison of the Adaptive Monitoring Algorithm, Greedy Algorithm and Sequential Selection.}
\label{fig:timeconsume}
\end{minipage}%
\hfill
\begin{minipage}[t]{0.3\textwidth}
\centering
\includegraphics[width=0.8\linewidth]{pix/sensing-traj/eva_timedomain.pdf}
\caption{Comparison of the Adaptive Monitoring Algorithm, Greedy Algorithm and Sequential Selection.}
\label{fig:timedomain}
\end{minipage}
\hfill
\begin{minipage}[t]{0.3\textwidth}
\centering
\includegraphics[width=0.8\linewidth]{pix/sensing-traj/eva_battery.pdf}
\caption{Comparison of the Adaptive Monitoring Algorithm, Greedy Algorithm and Sequential Selection.}
\label{fig:battery}
\end{minipage}
\end{figure*}
%\begin{figure*}
%\centering
% \begin{subfigure}[b]{0.23\linewidth}
%    \includegraphics[width=1.0\linewidth]{pix/sensing-traj/eva_battery.pdf}
%    \caption{Based on Message Diffusion.\\~}
%    \label{fig:FPIM:a}
%\end{subfigure}
% \begin{subfigure}[b]{0.23\linewidth}
%    \includegraphics[width=1.0\linewidth]{pix/sensing-traj/eva_battery.pdf}
%    \caption{Based on $P_\mathbb{S}$.\\~}
%    \label{fig:FPIM:b}
%\end{subfigure}
% \begin{subfigure}[b]{0.23\linewidth}
%    \includegraphics[width=1.0\linewidth]{pix/sensing-traj/eva_battery.pdf}
%    \caption{Based on $P_{\Delta\mathbb{S}}$.\\~}
%    \label{fig:FPIM:c}
%\end{subfigure}
% \begin{subfigure}[b]{0.23\linewidth}
%    \includegraphics[width=1.0\linewidth]{pix/sensing-traj/eva_battery.pdf}
%    \caption{Proportion of correct predictions.}
%    \label{fig:FPIM:d}
%\end{subfigure}
%\caption{Results of inferring the floating population (FP) that has excluded those whose home and remote regions are the same.}
%\label{fig:FPIM}
%\end{figure*}
\subsection{Experiment Setup}
\textbf{Experimental preconditions}: We use drones to verify our results. Since we divide 3D space into OL-network by cuboids which forms a 3D grid partitioned by height, we only consider algorithms in 2D grid.
\textbf{Comparison algorithms}: We consider two different algorithms for comparison. Since in our algorithm we choose the minimum dominating path in grid first and select COLs from path, we consider conventional algorithms as comparison which select COLs in grid first and choose a path to connect them.
\begin{enumerate}
  \item \emph{Row-first COL First}: We select the minimum dominating set in grid first and select an OL at boundary as start point. Then, we use row-first form a suboptimal trajectory by prior choosing OLs row by row (the longer side of the grid).
  \item \emph{Greedy COL First}: We select the minimum dominating set in grid first and select a point at boundary as start point. Then, we follow the greedy algorithm that
      \[
       \min\limits_{d(v,v')} \max\limits_{N[y]-N[P]} v,
      \]
      where $v,v' \in NG$, $P \subset NG$ is selected vertices of path, and $v'$ is the last vertex in path.
\end{enumerate}
\textbf{Performance metrics}: We use the following two metrics for evaluating algorithm performance.
\begin{itemize}
  \item \emph{Time Consuming}: The time consuming is defined as total time of flight and measurement of drone to cover the space under specific algorithm.
  \item \emph{Battery Coverage}: The battery coverage is defined as maximum coverage area during entire battery life. Since algorithm is affected by input width and length, We fix the width of grid.
\end{itemize}
\subsection{Results in specific open space}
We choose a open space in university which has a size of 45 m length, 35 m width and 10m height, and it is divided into a 9*7*2 3D grid by 5*5*5 cuboids. We consider the 2D 9*7 grid in space. Since time consuming is the sum of flight time and measurement time, we consider measurement time of different granularity which is 0, 1, 2, 5 seconds for each COL.
Figure~\ref{fig:comp1} show the time consuming in grid of different algorithms on different granularity of measurement time. We observe that our algorithm uses less time when consider flight time only. The gap between our algorithm and sequential algorithm decreases as measurement time increases and when measurement time is 5 seconds total time of two algorithms are equal.
Figure~\ref{fig:comp2} show the battery coverage in grid of different algorithms on different granularity of measurement time. We fix the width of grid as n. Similar with time consuming, when consider flight time only, our algorithm could covers more area than other algorithms. And as measurement time increases, coverage areas of three algorithms as well as difference among three algorithms decrease and when measurement time is 5 seconds, coverage sets of three algorithms are nearly equal.
In a real scenario, drones might be used to delivery packages or other goods. Therefore, we also consider time consuming and battery coverage with different loads when considering flight time only. Results in Figure~\ref{fig:comp3} and~\ref{fig:comp4} show that as load increases, coverage set of three algorithms decreases and time consuming of three algorithms increases. Meanwhile, gap among three algorithms decrease as well.
\subsection{Results of different measurement space}
Figure~\ref{fig:timeconsume} show the flight time in different measurement spaces with different width and length. We observe that our algorithm uses less time in every grid. And fixing width (or length), gap among algorithms increases as length (or width) increases.
Similarly, we have the same result when considering battery coverage in Figure~\ref{fig:battery}. When fixing width (or length), our algorithm could cover more area than other algorithms.
We also observe that, when fixing width, as length increases, the ratio between our algorithm and row-first algorithm could converge to a periodic result.
\section{Conclusions}\label{sec:conclude}
%In this paper, we propose a systematic study on the population distribution projection over offline geographical regions by analyzing the geographical attributes of online social networks (OSNs). We propose the concept of geo-homophily in OSNs to establish the correlation between online message diffusion and the stability of geographical regions where a population distribution can be drawn. We formulate the population distribution problem from the perspective of Dirichlet process, and present prediction models to show the process that OSN users are distributed into regions, and infer the floating population across regions. By experiments over the large scale datasets, it is shown that the online message diffusions can help evaluate the stability of geographical regions, which further facilitates the determination of population distribution over fixed regions; the proposed prediction models have a high prediction accuracy in inferring the change of floating population across regions.
%\section{Acknowledgements}
%
%This work was partially supported by National Natural Science Foundation
%of China under grant number 61201245, Specialized Research Fund for the Doctoral Program of Higher Education (SRFDP) under grant 20120001120128, and by the National Science Foundation through grants CNS-1314598 and IIP-1265886.
\bibliographystyle{abbrv}
\small
\bibliography{Sensing-traj}
\end{document}
